$(document).ready(function(){var t=$(".content-3__hidden-text");t.hide(),$(".content-3__tabs .content-3__tab-trigger").on("click",function(){var t=$(this),e=t.next(".content-3__hidden-text"),s=250;t.parent().siblings().children(".content-3__tab-trigger").removeClass("content-3__tab-trigger--active"),t.parent().siblings().children(".content-3__hidden-text").slideUp(s),e.is(":visible")?(t.removeClass("content-3__tab-trigger--active"),e.slideUp(s)):(t.addClass("content-3__tab-trigger--active"),e.slideDown(s))});var e=$("form"),s={init:function(){this.listeners()},listeners:function(){e.on("submit",s.submitForm),e.on("keydown","input, textarea",s.removeError)},submitForm:function(t){var e=$(this),n=e.find('button[type="submit"]');return s.validateForm(e)===!1?(t.preventDefault(),!1):void n.attr("disabled","disabled")},validateForm:function(t){var e=t.find("input:not(.novalid), textarea:not(.novalid)"),s=!0;return $.each(e,function(t,e){var n=$(e),i=n.val();0===i.length?(n.addClass("contact-form__input--has-error").removeClass("has-success"),s=!1):n.addClass("has-success").removeClass("contact-form__input--has-error")}),s},removeError:function(){$(this).removeClass("contact-form__input--has-error")}};s.init(),$("a.anchor").click(function(t){var e=$(this).attr("href"),s=$(e).offset().top;$("html, body").animate({scrollTop:s},1100),t.preventDefault()}),$(".test-table__body-item").on("click",function(){$(this).addClass("test-table__body-item--focus").siblings().removeClass("test-table__body-item--focus")});var n=function(){var t=$("#result-popup"),e=t.find(".rs-sum"),s=t.find(".result-msg"),n=t.find(".progress-bar span"),a=$(".test-table"),o=a.closest(".container").next(".container").find(".js-show-test-result"),r=$(".test-question"),l=$(".status-progress"),c=l.find(".step-i-value"),d=c.children(".value"),u=c.next(".progress-bar").children("span"),h=l.find(".score-i-value"),p=h.children(".value"),m=h.next(".progress-bar").children("span"),v=[],_=null,b="And appointment with a specialist is recommended, treatment to be determined by doctor. Possible surgical candidate.",f="An appointment with a specialist or your PCP is recommended and/or prescription medicine can be taken to treat symptoms.",g="An appointment with a specialist or your PCP is recommended and/or prescription medicine can be taken to treat symptoms.",C="And appointment with a specialist is recommended, treatment to be determined by doctor. Possible surgical candidate.";return{init:function(){_this=this,_this.listeners()},listeners:function(){a.on("change",".test-table__hidden-radio",_this.saveAnswer)},saveAnswer:function(){var t=$(this),e=parseInt(t.attr("value")),s=t.closest(".test-table__body"),n=s.data("quest-number");v[n]=e,_=n+1,_this.showQuestion(s)},showQuestion:function(t){var e=t.next();e.length?e.removeClass("test-table__body--hidden").addClass("test-table__body--visible"):_this.detectResult(v),_this.stepBarCalc(_),_this.scoreBarCalc(v)},sumResult:function(t){var e=null;for(i=0;i<t.length;i++)e+=t[i];return e},stepBarCalc:function(t){var e=t/20*100;d.text(t),u.css("width",e+"%")},scoreBarCalc:function(t){var e=_this.sumResult(t);barCalculate=e/100*100,p.text(e),m.css("width",barCalculate+"%")},detectResult:function(t){var e=_this.sumResult(t);e>=0&&10>=e?_this.showResult(b):e>=11&&40>=e?_this.showResult(f):e>=41&&69>=e?_this.showResult(g):e>=70&&100>=e&&_this.showResult(C)},showResult:function(t){o.text("Show result"),$(".js-show-test-result").addClass("btn--red").removeClass("btn--gray").magnificPopup({type:"inline",callbacks:{open:function(){e.text(_this.sumResult(v)),s.text(t),n.css("width",_this.sumResult(v)+"%")}}})}}}();n.init();var a=$(".video-player"),o=$(".video-player-container");o.on("click",".play-pause",function(){var t=$(this);videoBlock=t.parent().siblings(".video-player"),1==videoBlock[0].paused?(videoBlock[0].play(),t.addClass("paused").removeClass("played")):(videoBlock[0].pause(),t.addClass("played").removeClass("paused"))}),$(window).on("scroll",function(){var t=$(window).scrollTop(),e=$(".test-table__body").height(),s=4466+e;t>=880?$(".container--header").addClass("floating-header"):0==t&&$(".container--header").removeClass("floating-header")})});